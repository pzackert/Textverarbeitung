<!-- User Message -->
<div class="flex justify-end">
    <div class="bg-blue-600 text-white rounded-lg py-2 px-4 max-w-[80%] shadow-sm">
        <p class="text-sm">{{ question }}</p>
    </div>
</div>

<!-- Assistant Message -->
<div class="flex justify-start">
    <div class="bg-white border border-gray-200 rounded-lg py-4 px-4 max-w-[80%] shadow-sm space-y-3">
        <div class="prose prose-sm max-w-none text-gray-800">
            {{ answer | safe }}
        </div>
        
        {% if sources %}
        <div class="border-t border-gray-100 pt-2 mt-2">
            <p class="text-xs font-semibold text-gray-500 mb-1">Sources:</p>
            <div class="flex flex-wrap gap-2">
                {% for source in sources %}
                <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-600" title="Page {{ source.page_number }}">
                    ðŸ“„ {{ source.source_file }} (p.{{ source.page_number }})
                </span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
</div>
